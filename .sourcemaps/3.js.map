{"version":3,"sources":["../../src/pages/franchiseenquiry-create/franchiseenquiry-create.module.ts","../../src/pages/franchiseenquiry-create/franchiseenquiry-create.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { FranchiseEnquiryAddPage } from './franchiseenquiry-create';\n\n@NgModule({\n  declarations: [\n    FranchiseEnquiryAddPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FranchiseEnquiryAddPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    FranchiseEnquiryAddPage\n  ]\n})\nexport class FranchiseEnquiryAddPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/franchiseenquiry-create/franchiseenquiry-create.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Camera } from '@ionic-native/camera';\nimport { IonicPage, NavController, ViewController, ToastController, Form } from 'ionic-angular';\nimport * as _ from 'lodash';\nimport { Storage } from '@ionic/storage';\nimport { Programs, Center, Franchise } from '../../providers';\n\n@IonicPage()\n@Component({\n  selector: 'franchiseenquiry-create',\n  templateUrl: 'franchiseenquiry-create.html'\n})\n\nexport class FranchiseEnquiryAddPage {\n\n  form: any;\n  isReadyToSave: Boolean = false;\n  user;\n  states = [];\n  districts = [];\n  areas = [];\n  branches = [];\n  programmes = [];\n  allFranchisees = [];\n  counter = 0;\n\n  professionOptions = ['Accountant', 'Architect', 'Artist', 'Banker', 'Bookkeeper', 'Builder', 'Businessperson',\n    'Chef', 'Coach', 'Designer', 'Doctor', 'Economist', 'Engineer', 'Farmer', 'Fisherman',\n    'Judge', 'Lawyer', 'Mechanic', 'Pharmacist', 'Photographer', 'Physician', 'Pilot', 'Police',\n    'Politician', 'Professor', 'Salesperson', 'Service', 'Teacher', 'Writer', 'Others'];\n\n  referralOptions = ['Radio', 'TV', 'Print', 'Outdoor', 'From a Friend', 'Direct Walk In', 'Others'];\n\n  isStateDisabled: Boolean = false;\n  isDistrictDisabled: Boolean = false;\n\n  constructor(\n    public navCtrl: NavController,\n    public viewCtrl: ViewController,\n    formBuilder: FormBuilder,\n    public camera: Camera,\n    public programs: Programs,\n    public toastCtrl: ToastController,\n    public center: Center,\n    public program: Programs,\n    public franchise: Franchise,\n    public element: ElementRef,\n    public storage: Storage\n  ) {\n\n    this.center.query().subscribe((res: any) => {\n      this.branches = res;\n      this.states = _.filter(res, function (item) {\n        return (item.center_type == 'state')\n      });\n    }, err => {\n      console.error('ERROR', err);\n    });\n\n    this.program.query().subscribe((res: any) => {\n      this.programmes = res;\n    }, err => {\n      console.error('ERROR', err);\n    });\n\n    this.form = formBuilder.group({\n      name: ['', Validators.compose([Validators.required])],\n      franchise_type: ['unit', Validators.compose([Validators.required])],\n      franchise_state: [''],\n      franchise_district: [''],\n      franchise_area: [''],\n      address: ['', Validators.compose([Validators.required])],\n      pincode: ['', Validators.compose([Validators.required, Validators.maxLength(7), Validators.minLength(2)])],\n      mobile_no: ['', Validators.compose([Validators.required, Validators.maxLength(10), Validators.minLength(10), Validators.pattern('[0-9]*')])],\n      email_id: ['', Validators.compose([Validators.required, Validators.pattern(\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\")])],\n      dob: [''],\n      present_occupation: [''],\n      business_type: [''],\n      capital: [''],\n      qualification: [''],\n      start_timeframe: [''],\n      programs_interested: [[]],\n      working_hours: [''],\n      reference_source: ['', Validators.compose([Validators.required])],\n      referral: [''],\n      status: ['enquiry', Validators.compose([Validators.required])],\n      remarks: [''],\n      active: [true, Validators.compose([Validators.required])],\n      address_proof: [[]],\n      id_proof: [[]],\n      gst_certificate: [[]],\n      pan_card: [[]],\n      registration_certificate: [[]],\n      partnership_deed: [[]],\n      photo: [[]],\n      follow_up: [[]],\n      enquiry_by: [''],\n      enquiry_datetime: [new Date()]\n    });\n\n    // Watch the form for changes, and\n    this.form.valueChanges.subscribe((v) => {\n      this.isReadyToSave = this.form.valid;\n    });\n\n    this.storage.get('user').then((value) => {\n      this.user = value;\n      this.form.controls['enquiry_by'].setValue(this.user._id);\n      if (this.user.role == 'master') {\n        this.isStateDisabled = true;\n        this.form.controls['franchise_state'].setValue(this.user.user_state);\n        this.districts = _.filter(this.branches, function (item) {\n          return (item.center_type == 'district' && item.center_parent == this.user.user_state)\n        });\n        this.areas = _.filter(this.branches, function (item) {\n          return (item.center_type == 'unit' && item.center_parent == this.user.user_state)\n        });\n      } else if (this.user.role == 'district') {\n        this.isStateDisabled = true;\n        this.isDistrictDisabled = true;\n        this.form.controls['franchise_state'].setValue(this.user.user_state);\n        this.form.controls['franchise_district'].setValue(this.user.user_district);\n        this.areas = _.filter(this.branches, function (item) {\n          return (item.center_type == 'unit' && item.center_parent == this.user.user_district)\n        });\n      }\n    });\n\n    this.franchise.query().subscribe((res: any) => {\n      this.allFranchisees = res;\n    }, err => {\n      console.error('ERROR', err);\n    });\n\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n\n  onFranchiseTypeChange(ev) {\n    if (ev.value == 'state') {\n      this.form.controls['franchise_district'].setValue('');\n      this.form.controls['franchise_area'].setValue('');\n    }\n    if (ev.value == 'district') {\n      this.form.controls['franchise_area'].setValue('');\n    }\n  }\n\n  onFranchiseStateChange(ev) {\n    this.districts = _.filter(this.branches, function (item) {\n      return (item.center_type == 'district' && item.center_parent == ev.value)\n    });\n    this.areas = _.filter(this.branches, function (item) {\n      return (item.center_type == 'unit' && item.center_parent == ev.value)\n    });\n  }\n\n  onFranchiseDistrictChange(ev) {\n    this.areas = _.filter(this.branches, function (item) {\n      return (item.center_type == 'unit' && item.center_parent == ev.value)\n    });\n  }\n\n  resize = (): void => {\n    const ta = this.element.nativeElement.querySelector(\"textarea\");\n    if (ta !== undefined && ta !== null) {\n      ta.style.overflow = \"hidden\";\n      ta.style.height = \"auto\";\n      ta.style.height = ta.scrollHeight + \"px\";\n    }\n  }\n\n  save() {\n    this.franchise.add(this.form.value).subscribe((resp) => {\n      this.viewCtrl.dismiss();\n    }, (err) => {\n      let toast = this.toastCtrl.create({\n        message: \"Error in adding the Program. Please try again.\",\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n    });\n  }\n\n  onPhoneOrEmailChange(ev) {\n    let franchisees = _.filter(this.allFranchisees, function (item) {\n      return (item.mobile_no == ev.value || item.email_id == ev.value)\n    });\n    this.counter = franchisees.length;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/franchiseenquiry-create/franchiseenquiry-create.ts"],"sourceRoot":""}