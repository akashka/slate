{"version":3,"sources":["../../src/pages/followupcreate-tab/followupcreate-tab.module.ts","../../src/pages/followupcreate-tab/followupcreate-tab.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { FollowupCreateTab } from './followupcreate-tab';\n\n@NgModule({\n  declarations: [\n    FollowupCreateTab,\n  ],\n  imports: [\n    IonicPageModule.forChild(FollowupCreateTab),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    FollowupCreateTab\n  ]\n})\nexport class FollowupCreateTabModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/followupcreate-tab/followupcreate-tab.module.ts","import { Component } from '@angular/core';\nimport {\n  IonicPage,\n  ModalController,\n  NavController,\n  NavParams,\n  ToastController,\n  AlertController,\n  LoadingController,\n  Config,\n  Nav,\n  Platform,\n  ViewController\n} from 'ionic-angular';\nimport { Vibration } from '@ionic-native/vibration';\nimport { ItemSliding } from \"ionic-angular/umd\";\nimport * as _ from \"lodash\";\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Storage } from '@ionic/storage';\nimport { Franchise } from '../../providers';\n\n@IonicPage()\n@Component({\n  selector: 'followupcreate-tab',\n  templateUrl: 'followupcreate-tab.html'\n})\n\nexport class FollowupCreateTab {\n\n  franchiseEnquiry;\n  followups;\n  form;\n  isReadyToSave: Boolean = false;\n\n  constructor(\n    public vibration: Vibration,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    private alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public formBuilder: FormBuilder,\n    public nav: Nav,\n    public storage: Storage,\n    public franchise: Franchise,\n    public viewCtrl: ViewController\n  ) {\n    this.franchiseEnquiry = navParams.get('franchiseEnquiry');\n    this.followups = this.franchiseEnquiry.follow_up;\n\n    this.form = formBuilder.group({\n      user: [''],\n      dated: [new Date()],\n      comment: ['', Validators.compose([Validators.required])],\n    });\n\n    this.form.valueChanges.subscribe((v) => {\n      this.isReadyToSave = this.form.valid;\n    });\n\n    this.storage.get('user').then((value) => {\n      this.form.controls['user'].setValue(value._id);\n    });\n  }\n\n  save() {\n    this.franchiseEnquiry.follow_up.push(this.form.value);\n    this.franchise.update(this.franchiseEnquiry).subscribe((resp) => {\n      this.viewCtrl.dismiss();\n    }, (err) => {\n      let toast = this.toastCtrl.create({\n        message: \"Error in adding Followup. Please try again.\",\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/followupcreate-tab/followupcreate-tab.ts"],"sourceRoot":""}